<!DOCTYPE html>
<html>
<head>
	<title>HyperPixel</title>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="chrome=1">


	<link rel="icon" href="res/img/icon/index.png">
	<style>
		.outer {
		  display: table;
		  position: absolute;
		  top: 0;
		  left: 0;
		  height: 100%;
		  width: 100%;
		}

		.middle {
		  display: table-cell;
		  vertical-align: middle;
		}

		.inner {
		  margin-left: auto;
		  margin-right: auto;
		  text-align: center;
		}


		.screenCanvas {
		margin-left: auto;
		margin-right: auto;

		outline: none;
		-webkit-tap-highlight-color: rgba(255, 255, 255, 0); /* mobile webkit */
		cursor:crosshair;

		display: block;
		}

		textarea {
  		width: 100%;
  		height: 100vh;
	  }

	</style>


	<script>
	</script>


	<script id="js01" src="./res/script/ulib/cutils.js"></script>
	<script id="js01" src="./res/script/ulib/iutils.js"></script>
	<script id="js02" src="./res/script/ulib/panel.js"></script>
	<script id="js03" src="./res/script/ulib/bitbuffer.js"></script>
	<script id="js03b" src="./res/script/ulib/imagemask.js"></script>

	<script id="js04" src="./res/script/agents/keyboard.js"></script>
	<script id="js05" src="./res/script/agents/mouse.js"></script>
	<script id="js06" src="./res/script/agents/inputfocus_shortcut.js"></script>
	<script id="js06" src="./res/script/agents/inputfocus.js"></script>
	<script id="js07" src="./res/script/agents/importexport.js"></script>

	<script id="js08" src="./res/script/agents/paint_brush.js"></script>
	<script id="js09" src="./res/script/agents/paint_view.js"></script>
	<script id="js10" src="./res/script/agents/paint_ops.js"></script>
	<script id="js11" src="./res/script/agents/paint_ops_fill.js"></script>
	<script id="js12" src="./res/script/agents/paint_overlay.js"></script>
	<script id="js13" src="./res/script/agents/paint_delta.js"></script>
	<script id="js13" src="./res/script/agents/paint_undo.js"></script>
	<script id="js14" src="./res/script/agents/paint_state.js"></script>
	<script id="js15" src="./res/script/agents/paint.js"></script>

	<script id="js16" src="./res/script/agents/panels_dialogs.js"></script>
	<script id="js16" src="./res/script/agents/panels.js"></script>
	<script id="js17" src="./res/script/agents/panels_colorbuttons.js"></script>

	<script id="js18" src="./res/script/agents/screenupdate.js"></script>

	<script id="js19" src="./res/script/appeventbus.js"></script>
	<script id="js20" src="./res/script/boot.js"></script>

<script>

	var dmCMU = null;
	var booter = null;
	var SCR_H = null;
	var SCR_H = null;
	var MIN_SCR_W = 1024;

	window.onload = function() {
		start();
	}

	function start() {

		dmCMU = new DM_CommonMiscellaneousUtilities();

		document.getElementById("screenCanvas").focus();

		var container = document.getElementById("middlediv");

		console.log( document.fullscreenElement );

		var doc = document;
		//if(!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement) {

		if( window.innerHeight != window.screen.height ) {

				SCR_W = container.clientWidth - 16;
				SCR_H = container.clientHeight - 16;
		}
		else {
				SCR_W = container.clientWidth;
				SCR_H = container.clientHeight;
		}

		if( SCR_W < MIN_SCR_W ) {
			SCR_W = MIN_SCR_W;
		}

		booter = new Boot( 'screenCanvas', 'imageLoader', 'imageSaver', SCR_W, SCR_H );

	}

</script>


</head>
<body bgcolor=#000055>

<!--<table border=1><tr><td>
<canvas id="screencanvas" width="10" height="10" tabindex='1'></canvas>
<br>
<xscript src="https://apis.google.com/js/platform.js" async defer></xscript>
<xdiv class="g-savetodrive"
   data-src="//example.com/path/to/myfile.pdf"
   data-filename="My Statement.pdf"
   data-sitename="My Company Name">
</xdiv>
</td></tr></table>-->

<div class="outer" id="outerdiv">
  <div id="middlediv" class="middle">
		<div id=exporttxt hidden ><input value="Close" type=button
				onclick="document.getElementById( 'exporttxt' ).setAttribute('hidden','true'); booter.lockRMB();">
				<textarea width=100% id=exporttxtdata></textarea>
		</div>
    <div id="innerdiv" class="inner">
		<canvas class='screenCanvas' id="screenCanvas" width="100%" height="100%" tabindex='1'></canvas>
		<input hidden name="imageLoader" id="imageLoader" type="file" onclick="this.value=null;"></input>
		<a width=100% hidden href=# name="imageSaver" id="imageSaver">Save</a>
    </div>

  </div>
</div>


</body>
</html>
